<!DOCTYPE html>
<html>
	<head>
		<title>Liste
		</title>
		<!-- Ajout des liens vers les fichiers CSS de Bootstrap -->

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	</head>
	<style>
		.container {
			padding: 2rem 0;
		}

		h1,
		h2,
		h3,
		h4 {
			margin: 2rem 0 1rem;
		}

		.table-image {
			td,
			th {
				vertical-align: middle;
			}
		}
		.btn {
			margin: 5px;

		}
	</style>
	<body>
		<h1>Liste des livres</h1>

		<div class="row">
			<div class="col-12">
				<table class="table table-image">
					<thead>
						<tr>
							<th scope="col">Reference</th>
							<th scope="col">
								Author</th>
							<th scope="col">Title</th>
							<th scope="col">Category</th>
							<th scope="col">Publication date</th>
							<th scope="col">Published</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						{% if books is empty %}
							<tr>
								<td colspan="6">Le tableau des auteurs est vide</td>
							</tr>
						{% endif %}
						{#    {% set totalBook = 0 %} #}
						{% for book in books %}
							{% if book.published %}


								<tr>
									<th scope="col">{{ book.ref }}</th>
									<td>{{ book.author.username }}</td>
									<td>{{ book.title }}</td>
									<td>{{ book.category }}</td>
									<td>{{ book.publicationDate |date("m/d/Y")}}</td>
									<td>{{ book.published }}</td>
									<td>
										<a href="{{ path('app_book_show', {'ref': book.ref}) }}" class="btn btn-info btn-sm" role="button">Show</a>
										<a href="{{ path('app_book_update', {'ref': book.ref}) }}" class="btn btn-warning btn-sm" role="button">Edit</a>
										<a href="{{ path('app_book_delete', {'ref': book.ref}) }}" class="btn btn-danger btn-sm" role="button">Delete</a>
									</td>

									{# <td><a class="btn btn-primary" href="{{ path('bookDetails', {'id': book.ref}) }}">DÃ©tails</a></td> #}


								</tr>
							{% endif %}
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
		<div class="text-center">
			<a href="{{ path('app_book_add') }}" type="button" class="btn btn-primary">Ajouter livre</a>
		</div>

		<h2 class="text-primary">Le nombre des livres public est :
			{{ totalBooksPub }}</h2>
		<h2>Lenombre des livres non public :
			{{totalBooksUnpub}}
		</h2>

		<!-- Ajout des liens vers les fichiers JavaScript de Bootstrap (facultatif) -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/js/bootstrap.min.js"></script>
	</body>
</html>
