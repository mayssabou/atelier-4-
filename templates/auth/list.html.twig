<!DOCTYPE html>
<html>
<head>
    <title>Liste </title>
    <!-- Ajout des liens vers les fichiers CSS de Bootstrap -->
       
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<style>
.container {
  padding: 2rem 0rem;
}

h1,h2,h3,h4 {
  margin: 2rem 0rem 1rem;
}

.table-image {
  td, th {
    vertical-align: middle;
  }
}
</style>
<body>
    <h1>Liste des auteurs</h1>

     <div class="row">
    <div class="col-12">
    <table class="table table-image">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col"> Image</th>
                <th scope="col">Username</th>
                <th scope="col">Email</th>
                <th scope="col">Nombre de livres</th>
                <th scope="col">Détails</th>
            </tr>
        </thead>
        <tbody>
            {% if authors is empty %}
                <tr>
                    <td colspan="6">Le tableau des auteurs est vide</td>
                </tr>
            {% endif %}
            {% set totalBook = 0 %}
            {% for author in authors %}
                <tr>
                    <th scope="col">{{ author.id }}</th>
                    <td><img src="{{ asset(author.picture) }}" alt="{{ author.username }}" width="100"></td>
                    <td>{{ author.username|upper }}</td>
                    <td>{{ author.email }}</td>
                    <td>{{ author.nb_books }}</td>
                    <td><a class="btn btn-primary" href="{{ path('authorDetails', {'id': author.id}) }}">Détails</a></td>
                    {% set totalBook = totalBook + author.nb_books %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
  </div>
    <h2 class="text-primary">Le nombre d'auteurs est : {{ authors|length }}</h2>
    <h2>Le total des livres est : {{ totalBook }}</h2>

    <!-- Ajout des liens vers les fichiers JavaScript de Bootstrap (facultatif) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
